# ‼️먼저 ORM에 대해 알아보자!!

## ORM ?

- Object Relational Mapping(객체-관계-매핑)의 약자
- 프로그래밍의 언어의 객체와 관계형 데이터베이스의 데이터를 자동으로 매핑 해주는 도구이다.

## ORM 사용 이유

- 객체 지향 프로그래밍은 객체를 이용하고 관계형 데이터베이스는 테이블을 이용하는데 객체 모델과 관계형 모델 간의 불일치가 존재한다.
- **ORM을 이용**해서 **데이터베이스 접근을 프로그래밍 언어의 관점**에서 맞출 수 있다.
- **ORM을 이용**해서 객체 간의 관계를 바탕으로 **SQL을 자동으로 생성하여 불일치를 해결**한다.
- **ORM을 이용**해서 **SQL 문을  직접 작성하지 않고 엔티티를 객체로 표현**할 수 있다.
- **객체를 통해 간접적으로 데이터베이스**를 다룬다.

## ORM 장점

### 👌 직관적인 코드 (가독성) + 비지니스 로직 집중 가능 (생산성)

- SQL Query가 아닌 메서드로 데이터를 조작할 수 있다.
- 이로써 객체 모델로 프로그래밍하는 것에 더 집중할 수 있게 도와준다.
- 각종 객체에 대한 코드를 별도로 작성하기 때문에 코드 가독성을 높여 준다.
- SQL의 절차적이고 순차적인 접근이 아닌 객체 지향적인 접근으로 생산성이 증가한다.

### 👌 재사용 및 유지보수 편리성 증가

- 디자인 패턴을 견고하게 만드는 데 유리하다.
- 독립적으로 작성 되었고 해당 객체들을 재활용 할 수 있기때문이다.

### DBMS에 대한 종속성 저하

- 객체 간 관계를 바탕으로 SQL을 자동으로 생성하기 때문에 RDBMS의 데이터 구조와 프로그래밍 언어의 객체 모델 사이의 간격을 좁힌다.
- 프로그래머는 Object에 집중하기 때문에 DBMS를 다루는 큰 작업에도 비교적 적은 리스크와 시간만 소요한다.

## ORM 단점

### 👌🏿 ORM 으로만 완벽한 서비스를 구현하기 어려움

- 사용하기는 편리하지만 설계 할 때 신중하게 해야한다.
- 프로젝트의 복잡성이 커질 경우 난이도 또한 올라간다.

# ‼️하이버네이트

- 대부분의 패러다임 불일치 문제를 해결해주는 ORM 프레임워크다.

하이버네이트(hibernate.org)라는 오픈소스 ORM 프레임워크가 등장하면서 하이버네이트를 기반으로 새로운 자바 ORM 기술 표준이 만들어졌는데 그것이 바로 **JPA**다.

**패러다임 불일치?**

추상화, 상속, 다형성과 같은 특성을 가진 객체지향과 이러한 특성이 없는 데이터베이스는 서로 기능과 표현방법이 모두 다르다. 이것을 객체(OOP)와 관계형 데이터베이스의 패러다임 불일치 문제라고 한다.

# ‼️드디어 JPA

## JPA?

- Java Persistence API의 약어로 자바 진영의 ORM 기술 표준이다.
- JPA를 사용하려면 JPA를 구현한 ORM 프레임워크를 선택해야하는데, 가장 대중적인건 하이버네이트이다.

## JPA의 역할

- Entity 분석
- INSERT SQL 생성
- JDBD API 사용
- 패러다임 불일치 해결

## JPA 사용 시 장점

- 특정 데이터베이스에 종속되지 않는다
    - JPA를 사용하지 않았을 경우 처음 선택한 데이터베이스를 변경하기 어렵다. 하지만 JPA는 추상화한 데이터 접근 계층을 제공한다. 설정 파일에 어떤 데이터베이스를 사용하는지 알려주면 언제든지 데이터베이스를 변경할 수 있다.
- 객체지향적 프로그래밍
    - JPA를 사용하면 데이터베이스 설계 중심 패러다임에서 객체지향적으로 설계가 가능하다. 이로인해 비즈니스 로직에 집중할 수 있도록 도와준다.
- 생산성 향상
    - 테이블에 새로운 컬럼이 추가되었을 경우, DTO클래스의 필드도 모두 변경해야 한다. JPA에서는 테이블과 매핑된 클래스에 필드만 추가한다면 쉽게 관리가 가능하다. SQL문을 직접 작성하지 않아 유지보수 측면에서 좋고 재사용성도 증가한다.

## JPA 사용 시 단점

- 복잡한 쿼리 처리
    - 복잡한 쿼리를 사용할 경우는 SQL문을 사용하는게 나을 수도 있다. JPA에서는 Native SQL을 통해 기존의 SQL문을 사용할 수 있지만 그러면 특정 데이터베이스에 종속된다는 단점이 생긴다. 이를 보완하기 위해서는 SQL과 유사한 JPQL을 지원한다.
- 성능 저하 위험
    - 자동으로 생성되는 쿼리가 많기 때문에 개발자가 의도하지 않는 쿼리로 인해 성능이 저하 되기도 한다.
