# 디스크 파티션 및 파일시스템

### fdisk -l

시스템의 파티션을 나열

## fdisk /dev/sd*

명령모드로 들어가기

## command: n

새로운 파티션 추가

**p :** primary 파티션을 생성

1 : 파티션 넘버를 지정

엔터 default상태

+256M, +10G나 지정

## command: p
분할한 파티션 정보를 출력

## command: w
저장하고 종료

---
# 파일 시스템 생성
리눅스에서는 다양한 파일시스템을 제공하는데 Debian 리눅스의 기본 파일시스템은 ‘ext4’입니다

리눅스는 다양한 파일시스템들을 지원한다. 그중 살펴보고자 하는 파일 시스템은 ext, ext2, ext3, ext4로 리눅스 초기에 사용되었거나 많이 사용되는 파일 시스템들이다.

### ext

- 리눅스 초기에 사용되던 파일 시스템이며 호환성이 없다.

### ext2

- 뛰어난 안정성과 속도로 가장 유명한 파일 시스템으로 자리 잡았다
- 쉽게 호환되며 업그레이드도 쉽게 설계되어 있다.

### ext3

- ext2 파일시스템에 저널링을 지원하도록 화장된 파일시스템이다
- 현재 리눅스에서 가장 많이 사용되고 있다

### ext4

- ext3 파일시스템을 확장한 파일시스템으로 Extent라는 기능을 제공한다
- 파일에 디스크 할당시 물리적으로 연속적인 블록을 할당할 수 있다

### mkfs -t ext4 /dev/sda1

/deb/sda1 파티션을 ‘ext4’ 파일시스템으로 생성

## 슈퍼 블록 (Super Block)

- 파일시스템의 블록을 대표하는 블록
- 파일시스템에서 사용되는 주요 설정 정보들이 기록되어있는 영역이다
- 항상 블록그룹의 첫 번째 블록에 위치한다
- 각 Group마다 Super Block의 내용은 동일하며 만약 다르면 파일 시스템 손상된 것이다
- 파일 시스템이 Mount될 때, 커널은 Group 0에 들어있는 Super Block을 읽는다

### 주요 저장 내용

1. 파일 시스템에 의존하는 정보인 파일 시스템의 크기
2. 마운트 정보
3. 데이터 블록의 총 숫자
4. Inode의 총 숫자
5. 블록 그룹번호
6. 블록의 크기(1KB, 2KB, 4KB, 8KB)
7. 그룹 당 블록 수
8. 슈퍼 블록이 수정되었음을 알리는 정보

---
# 파일시스템 마운트

특정 디렉터리에 마운트하여 사용할 수 있다

### mount /dev/sda1 /opt

opt디렉터리에 마운트한다

### mount | grep /dev/sda1

설정 한지 확인